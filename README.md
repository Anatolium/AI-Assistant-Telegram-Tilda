# ü§ñ Telegram-Tilda-AI-Assistant
–ò–ò-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç —Ñ–∏—Ç–Ω–µ—Å-–∫–ª—É–±–∞ "World Class".
–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –¥–≤–∞ –±–æ—Ç–∞ –Ω–∞ Telegram –∏ Tilda.
–ë–æ—Ç—ã –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∫–ª–∏–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ OpenAI –∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç –∑–∞—è–≤–∫–∏ –≤ Google Sheets.
–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞—è–≤–∫–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤ –∞–¥–º–∏–Ω-–≥—Ä—É–ø–ø—É Telegram.

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ OpenAI Assistant API.
- –ó–∞–ø–∏—Å—å –Ω–∞ —É—Å–ª—É–≥–∏ —Ñ–∏—Ç–Ω–µ—Å-–∫–ª—É–±–∞ (–ø–æ—à–∞–≥–æ–≤—ã–π –¥–∏–∞–ª–æ–≥).
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ Google Sheets:
  - –ò–º—è  
  - –¢–µ–ª–µ—Ñ–æ–Ω  
  - –£—Å–ª—É–≥–∞  
  - –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è  
  - –ö–∞—Ç–µ–≥–æ—Ä–∏—è –º–∞—Å—Ç–µ—Ä–∞  
  - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –æ –Ω–æ–≤–æ–π –∑–∞—è–≤–∫–µ.
- –í–µ–±-–≤–∏–¥–∂–µ—Ç –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –Ω–∞ —Å–∞–π—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, [Tilda](https://tilda.ru)).

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- [Python 3.10+](https://www.python.org/)
- [Flask](https://flask.palletsprojects.com/) ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–±—Ö—É–∫–æ–≤ –∏ API –¥–ª—è —Å–∞–π—Ç–∞  
- [Telegram Bot API](https://core.telegram.org/bots/api) ‚Äî –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å Telegram  
- [Google Sheets API](https://developers.google.com/sheets/api) ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫  
- [OpenAI API](https://platform.openai.com/) ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –±–æ—Ç–∞  
- [ngrok](https://ngrok.com/) ‚Äî –ø—Ä–æ–±—Ä–æ—Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–µ–±—Ö—É–∫–æ–≤

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

fitness-club-assistant/
‚îú‚îÄ‚îÄ main.py                 # Flask-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ functions.py            # –õ–æ–≥–∏–∫–∞ (OpenAI, Sheets, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
‚îú‚îÄ‚îÄ url_manager.py          # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ URL –¥–ª—è –≤–µ–±—Ö—É–∫–æ–≤
‚îú‚îÄ‚îÄ update_webhook.py       # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤–µ–±—Ö—É–∫–∞ Telegram
‚îú‚îÄ‚îÄ requirements.txt        # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ credentials.json        # (–≤ .gitignore) –∫–ª—é—á —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ Google
‚îî‚îÄ‚îÄ README.md

## üìä –°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞

[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å Telegram]
‚îÇ
‚ñº
[–°–µ—Ä–≤–µ—Ä Telegram]
‚îÇ (–≤–µ–±—Ö—É–∫)
‚ñº
[Ngrok]
‚îÇ (—Ç—É–Ω–Ω–µ–ª—å HTTPS ‚Üí localhost:5000)
‚ñº
[Flask (main.py)]
‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ (/start, "–ë—ã—Å—Ç—Ä–∞—è –∑–∞–ø–∏—Å—å", "–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è")
‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ –í—ã–∑–æ–≤ OpenAI (–æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã)
‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
‚ñº
[Google Sheets] ‚Üê‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –î–∞–Ω–Ω—ã–µ –∑–∞—è–≤–æ–∫

üîπ **Flask** ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã.  
üîπ **Ngrok** ‚Äî –¥–µ–ª–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–Ω—ã–º –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞.  
üîπ **Webhook Telegram** ‚Äî –∏–∑–≤–µ—â–∞–µ—Ç Flask –æ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö.  
üîπ **OpenAI** ‚Äî –æ—Ç–≤–µ—á–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.  
üîπ **Google Sheets** ‚Äî —Ö—Ä–∞–Ω–∏—Ç –∑–∞—è–≤–∫–∏.  

üëâ –í–µ–±-–≤–µ—Ä—Å–∏—è (–≤–∏–¥–∂–µ—Ç) —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ.

## üì± Telegram

‚Ä¢ –°–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞, –¥–æ–±–∞–≤–∏—Ç—å –µ–≥–æ —Ç–æ–∫–µ–Ω –≤ .env
‚Ä¢ –°–æ–∑–¥–∞—Ç—å –∞–¥–º–∏–Ω-–≥—Ä—É–ø–ø—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞—è–≤–æ–∫, –¥–æ–±–∞–≤–∏—Ç—å ID –≥—Ä—É–ø–ø—ã –≤ .env
‚Ä¢ –ù–∞–∑–Ω–∞—á–∏—Ç—å –±–æ—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –≤ —ç—Ç–æ–π –≥—Ä—É–ø–ø–µ

## ü§ñ OpenAI

‚Ä¢ –ü–æ–ª—É—á–∏—Ç—å API-—Ç–æ–∫–µ–Ω, –¥–æ–±–∞–≤–∏—Ç—å –µ–≥–æ –≤ .env
‚Ä¢ –°–æ–∑–¥–∞—Ç—å –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞, –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –∏ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π
‚Ä¢ –î–æ–±–∞–≤–∏—Ç—å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –≤ .env

## üìä –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Google Sheets

‚Ä¢ –°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏:
–ò–º—è | –¢–µ–ª–µ—Ñ–æ–Ω | –£—Å–ª—É–≥–∞ | –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è | –ú–∞—Å—Ç–µ—Ä | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π

‚Ä¢ –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –≤ Google Cloud.
‚Ä¢ –°–∫–∞—á–∞—Ç—å credentials.json –∏ –ø–æ–º–µ—Å—Ç–∏—Ç—å –µ–≥–æ –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞.
‚Ä¢ –î–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ç–∞–±–ª–∏—Ü–µ email —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞.
‚Ä¢ –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–∞–±–ª–∏—Ü—ã Google Sheet –¥–æ–±–∞–≤–∏—Ç—å –≤ .env

## üåçÔ∏è –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Ngrok

‚Ä¢ –î–æ–±–∞–≤–∏—Ç—å AuthToken, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ ngrok, –≤ .env

## ‚öôÔ∏è –§–∞–π–ª .env

TELEGRAM_BOT_TOKEN=<—Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –¢–µ–ª–µ–≥—Ä–∞–º>
TELEGRAM_GROUP_ID=<ID –≥—Ä—É–ø–ø—ã –¢–µ–ª–µ–≥—Ä–∞–º, –∫—É–¥–∞ –±—É–¥—É—Ç –ø–æ—Å—Ç—É–ø–∞—Ç—å –∑–∞—è–≤–∫–∏>
OPENAI_API_KEY=<API-—Ç–æ–∫–µ–Ω OpenAI>
ASSISTANT_ID=<–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ OpenAI Assistant ID>
GOOGLE_SHEET_ID=<–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–∞–±–ª–∏—Ü—ã Google Sheet>
NGROK_AUTH_TOKEN=<—Ç–æ–∫–µ–Ω ngrok>

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

> python main.py
> start ngrok start --all --config=ngrok.yml
> python update_webhook.py

## üìå –î–ª—è —Ä–∞–±–æ—Ç—ã –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç–∞ –Ω–∞ —Å–∞–π—Ç–µ –≤–∏–¥–∂–µ—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å HTTPS-—Å—Å—ã–ª–∫—É, –≤—ã–¥–∞–Ω–Ω—É—é –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ ngrok, e.g.

const API_URL = 'https://ced17de233c6.ngrok-free.app/website-chat';
